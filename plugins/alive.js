const {readEnv}=require('../lib/database');const {cmd,commands}=require('../command');const os=require("os");const {runtime}=require('../lib/functions');const moment=require('moment-timezone');const sensitiveData=require('../dila_md_licence/a/b/c/d/dddamsbs');cmd({pattern:"alive",desc:"Check uptime, RAM usage, and more",category:"main",react:"ğŸ‘º",filename:__filename},async(conn,mek,m,{from,quoted,body,isCmd,command,args,q,isGroup,sender,senderNumber,botNumber2,botNumber,pushname,isMe,isOwner,groupMetadata,groupName,participants,groupAdmins,isBotAdmins,isAdmins,reply})=>{try{const config=await readEnv();const totalRAM=Math.round(os.totalmem()/1024/1024);const usedRAM=(process.memoryUsage().heapUsed/1024/1024).toFixed(2);const freeRAM=(totalRAM-parseFloat(usedRAM)).toFixed(2);const date=moment().tz("Asia/Colombo").format("YYYY-MM-DD");const time=moment().tz("Asia/Colombo").format("HH:mm:ss");const hour=moment().tz("Asia/Colombo").format("HH");const minute=moment().tz("Asia/Colombo").format("mm");const greeting=hour>=0&&hour<12?'ğ—šğ—¢ğ—¢ğ—— ğ— ğ—¢ğ—¥ğ—¡ğ—œğ—¡ğ—š':hour>=12&&hour<18?'ğ—šğ—¢ğ—¢ğ—— ğ—”ğ—™ğ—§ğ—˜ğ—¥ğ—¡ğ—¢ğ—¢ğ—¡':'ğ—šğ—¢ğ—¢ğ—— ğ—¡ğ—œğ—šğ—›ğ—§';const roundedMinute=Math.round(minute/30)*30;const roundedTime=`${hour}:${roundedMinute<10?'0'+roundedMinute:roundedMinute}`;const timeEmojiMap={'00:00':'ğŸ•›','00:30':'ğŸ•§','01:00':'ğŸ•','01:30':'ğŸ•œ','02:00':'ğŸ•‘','02:30':'ğŸ•','03:00':'ğŸ•’','03:30':'ğŸ•','04:00':'ğŸ•“','04:30':'ğŸ•Ÿ','05:00':'ğŸ•”','05:30':'ğŸ• ','06:00':'ğŸ••','06:30':'ğŸ•¡','07:00':'ğŸ•–','07:30':'ğŸ•¢','08:00':'ğŸ•—','08:30':'ğŸ•£','09:00':'ğŸ•˜','09:30':'ğŸ•¤','10:00':'ğŸ•™','10:30':'ğŸ•¥','11:00':'ğŸ•š','11:30':'ğŸ•¦','12:00':'ğŸ•›','12:30':'ğŸ•§','13:00':'ğŸ•','13:30':'ğŸ•œ','14:00':'ğŸ•‘','14:30':'ğŸ•','15:00':'ğŸ•’','15:30':'ğŸ•','16:00':'ğŸ•“','16:30':'ğŸ•Ÿ','17:00':'ğŸ•”','17:30':'ğŸ• ','18:00':'ğŸ••','18:30':'ğŸ•¡','19:00':'ğŸ•–','19:30':'ğŸ•¢','20:00':'ğŸ•—','20:30':'ğŸ•£','21:00':'ğŸ•˜','21:30':'ğŸ•¤','22:00':'ğŸ•™','22:30':'ğŸ•¥','23:00':'ğŸ•š','23:30':'ğŸ•¦'};const currentTimeEmoji=timeEmojiMap[`${hour}:${roundedMinute<10?'0'+roundedMinute:roundedMinute}`]||'ğŸ«‚';const dateEmoji=date.split('-').map(part=>part.replace(/0/g,'0ï¸âƒ£').replace(/1/g,'1ï¸âƒ£').replace(/2/g,'2ï¸âƒ£').replace(/3/g,'3ï¸âƒ£').replace(/4/g,'4ï¸âƒ£').replace(/5/g,'5ï¸âƒ£').replace(/6/g,'6ï¸âƒ£').replace(/7/g,'7ï¸âƒ£').replace(/8/g,'8ï¸âƒ£').replace(/9/g,'9ï¸âƒ£')).join('-');const timeEmoji=time.split(':').map(part=>part.replace(/0/g,'0ï¸âƒ£').replace(/1/g,'1ï¸âƒ£').replace(/2/g,'2ï¸âƒ£').replace(/3/g,'3ï¸âƒ£').replace(/4/g,'4ï¸âƒ£').replace(/5/g,'5ï¸âƒ£').replace(/6/g,'6ï¸âƒ£').replace(/7/g,'7ï¸âƒ£').replace(/8/g,'8ï¸âƒ£').replace(/9/g,'9ï¸âƒ£')).join(':');const caption=`ğ—›ğ—²ğ˜† ${pushname}\n${greeting} ${currentTimeEmoji}\n\n${config.ALIVE_MSG}\n\nğ——ğ—”ğ—§ğ—˜: \n${dateEmoji}\nğ—§ğ—œğ— ğ—˜: \n${timeEmoji}\n\n${sensitiveData.plugginssd}`;let sentMessage=await conn.sendMessage(from,{image:{url:config.ALIVE_IMG},caption:caption},{quoted:mek||null});await conn.sendMessage(from,{react:{text:"ğŸ‘º",key:sentMessage.key}});let sentAudio=await conn.sendMessage(from,{audio:{url:sensitiveData.audiomp('')},mimetype:'audio/mpeg',ptt:true},{quoted:mek});await conn.sendMessage(from,{react:{text:"ğŸ‘º",key:sentAudio.key}});await conn.sendPresenceUpdate('recording',from);}catch(e){console.log(e);reply(`Error: ${e}`);}});
