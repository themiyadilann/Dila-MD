const mongoose = require('mongoose'); const config = require('../config'); const EnvVar = require('./mongodbenv'); const defaultEnvVariables = [{ key: 'ALIVE_IMG', value: 'https://telegra.ph/file/94055e3a7e18f50199374.jpg' }, { key: 'ALIVE_MSG', value: '*ð—œð—º ð—”ð—¹ð—¶ð˜ƒð—² ð—¡ð—¼ð˜„ â™¥*\n*ðšƒðš›ðšðš’ðšœ â¤µ*\n\n.ai (Your question)\n_example - .ai Hey_' }, { key: 'PREFIX', value: '.' }, { key: 'AUTO_READ_STATUS', value: 'true' }, { key: 'MODE', value: 'public' }, { key: 'AUTO_VOICE', value: 'false' }, { key: 'AUTO_STICKER', value: 'false' }, { key: 'AUTO_REPLY', value: 'false' }, { key: 'AUTO_IMAGE', value: 'false' }, { key: 'AUTO_VIDEO', value: 'false' }, { key: 'AUTO_AI', value: 'false' }, { key: 'WARN_COUNT', value: '10' }, { key: 'ANTI_LINK', value: 'off' }, { key: 'ANTI_BAD', value: 'off' }, { key: 'ANTI_VOICE', value: 'off' }, { key: 'ANTI_STICKER', value: 'off' }, { key: 'ANTI_PHOTO', value: 'off' }, { key: 'ANTI_VIDEO', value: 'off' }, { key: 'WELCOME', value: 'false' }, { key: 'OWNER_NUMBER', value: '94777839446@s.whatsapp.net' }, { key: 'ANTI_DELETE', value: 'false' }, { key: 'WCPROFILENAME', value: 'Dila' }, { key: 'WCPROFILEFROM', value: 'Matara' }, { key: 'WCPROFILEAGE', value: '20' }, { key: 'WCPROFILEMSG', value: 'dilo' }]; const connectDB = async () => { try { await mongoose.connect(config.MONGODB); console.log('ðŸ›œ MongoDB Connected âœ…'); for (const envVar of defaultEnvVariables) { const existingVar = await EnvVar.findOne({ key: envVar.key }); if (!existingVar) { await EnvVar.create(envVar); console.log(`âž• Created default env var: ${envVar.key}`); } } } catch (err) { console.error(err.message); process.exit(1); } }; module.exports = connectDB;
